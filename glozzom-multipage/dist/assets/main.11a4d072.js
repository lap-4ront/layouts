import{M as $,C as S}from"./main.c2b12604.js";const n={Modal:$,Carousel:S};class i{constructor(t,e={}){this.hash=this.randomHash(),this.settings=Object.assign(Object.assign(Object.assign({},n.Modal.Default),n.Carousel.Default),{interval:!1,target:'[data-toggle="lightbox"]',gallery:"",size:"xl"}),this.modalOptions=(()=>this.setOptionsFromSettings(n.Modal.Default))(),this.carouselOptions=(()=>this.setOptionsFromSettings(n.Carousel.Default))(),typeof t=="string"&&(this.settings.target=t,t=document.querySelector(this.settings.target)),this.settings=Object.assign(Object.assign({},this.settings),e),this.el=t,this.type=t.dataset.type||"",this.src=this.getSrc(t),this.sources=this.getGalleryItems(),this.createCarousel(),this.createModal()}show(){document.body.appendChild(this.modalElement),this.modal.show()}hide(){this.modal.hide()}setOptionsFromSettings(t){return Object.keys(t).reduce((e,s)=>Object.assign(e,{[s]:this.settings[s]}),{})}getSrc(t){let e=t.dataset.src||t.dataset.remote||t.href||"http://via.placeholder.com/1600x900";if(t.dataset.type==="html")return e;/\:\/\//.test(e)||(e=window.location.origin+e);const s=new URL(e);return(t.dataset.footer||t.dataset.caption)&&s.searchParams.set("caption",t.dataset.footer||t.dataset.caption),s.toString()}getGalleryItems(){let t;if(this.settings.gallery){if(Array.isArray(this.settings.gallery))return this.settings.gallery;t=this.settings.gallery}else this.el.dataset.gallery&&(t=this.el.dataset.gallery);return t?[...new Set(Array.from(document.querySelectorAll(`[data-gallery="${t}"]`),s=>`${s.dataset.type?s.dataset.type:""}${this.getSrc(s)}`))]:[`${this.type?this.type:""}${this.src}`]}getYoutubeId(t){if(!t)return!1;const e=t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return e&&e[2].length===11?e[2]:!1}getInstagramEmbed(t){if(/instagram/.test(t))return t+=/\/embed$/.test(t)?"":"/embed",`<iframe src="${t}" class="start-50 translate-middle-x" style="max-width: 500px" frameborder="0" scrolling="no" allowtransparency="true"></iframe>`}isEmbed(t){const s=new RegExp("("+i.allowedEmbedTypes.join("|")+")").test(t),o=/\.(png|jpe?g|gif|svg|webp)/i.test(t)||this.el.dataset.type==="image";return s||!o}createCarousel(){const t=document.createElement("template"),e=i.allowedMediaTypes.join("|"),s=this.sources.map((a,l)=>{a=a.replace(/\/$/,"");const h=new RegExp(`^(${e})`,"i"),v=/^html/.test(a),w=/^image/.test(a);h.test(a)&&(a=a.replace(h,""));let c=`<img src="${a}" class="d-block w-100 h-100 img-fluid" style="z-index: 1; object-fit: contain;" />`,u="";const x=this.getInstagramEmbed(a),m=this.getYoutubeId(a);this.isEmbed(a)&&!w&&(m&&(a=`https://www.youtube.com/embed/${m}`,u='title="YouTube video player" frameborder="0" allow="accelerometer autoplay clipboard-write encrypted-media gyroscope picture-in-picture"'),c=x||`<iframe src="${a}" ${u} allowfullscreen></iframe>`),v&&(c=a);const E='<div class="position-absolute top-50 start-50 translate-middle text-white"><div class="spinner-border" style="width: 3rem height: 3rem" role="status"></div></div>',g=new URLSearchParams(a.split("?")[1]);let p="";return g.get("caption")&&(p=`<p class="lightbox-caption m-0 p-2 text-center text-white small"><em>${g.get("caption")}</em></p>`),`
				<div class="carousel-item ${l?"":"active"}" style="min-height: 100px">
					${E}
					<div class="ratio ratio-16x9" style="background-color: #000;">${c}</div>
					${p}
				</div>`}).join(""),o=this.sources.length<2?"":`
			<button id="#lightboxCarousel-${this.hash}-prev" class="carousel-control carousel-control-prev h-75 m-auto" type="button" data-bs-target="#lightboxCarousel-${this.hash}" data-bs-slide="prev">
				<span class="carousel-control-prev-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Previous</span>
			</button>
			<button id="#lightboxCarousel-${this.hash}-next" class="carousel-control carousel-control-next h-75 m-auto" type="button" data-bs-target="#lightboxCarousel-${this.hash}" data-bs-slide="next">
				<span class="carousel-control-next-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Next</span>
			</button>`;let d="lightbox-carousel carousel";this.settings.size==="fullscreen"&&(d+=" position-absolute w-100 translate-middle top-50 start-50");const b=`
			<div id="lightboxCarousel-${this.hash}" class="${d}" data-bs-ride="carousel" data-bs-interval="${this.carouselOptions.interval}">
				<div class="carousel-inner">
					${s}
				</div>
				${o}
			</div>`;t.innerHTML=b.trim(),this.carouselElement=t.content.firstChild;const y=Object.assign(Object.assign({},this.carouselOptions),{keyboard:!1});this.carousel=new n.Carousel(this.carouselElement,y);const f=this.type&&this.type!=="image"?this.type+this.src:this.src;return this.carousel.to(this.findGalleryItemIndex(this.sources,f)),this.carouselOptions.keyboard===!0&&document.addEventListener("keydown",a=>{if(a.code==="ArrowLeft"){const l=document.getElementById(`#lightboxCarousel-${this.hash}-prev`);return l&&l.click(),!1}if(a.code==="ArrowRight"){const l=document.getElementById(`#lightboxCarousel-${this.hash}-next`);return l&&l.click(),!1}}),this.carousel}findGalleryItemIndex(t,e){let s=0;for(const o of t){if(o.includes(e))return s;s++}return 0}createModal(){const t=document.createElement("template"),e='<svg xmlns="http://www.w3.org/2000/svg" style="position: relative; top: -5px;" viewBox="0 0 16 16" fill="#fff"><path d="M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z"/></svg>',s=`
			<div class="modal lightbox fade" id="lightboxModal-${this.hash}" tabindex="-1" aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered modal-${this.settings.size}">
					<div class="modal-content border-0 bg-transparent">
						<div class="modal-body p-0">
							<button type="button" class="btn-close position-absolute top-0 end-0 p-3" data-bs-dismiss="modal" aria-label="Close" style="z-index: 2; background: none;">${e}</button>
						</div>
					</div>
				</div>
			</div>`;return t.innerHTML=s.trim(),this.modalElement=t.content.firstChild,this.modalElement.querySelector(".modal-body").appendChild(this.carouselElement),this.modalElement.addEventListener("hidden.bs.modal",()=>this.modalElement.remove()),this.modalElement.querySelector("[data-bs-dismiss]").addEventListener("click",()=>this.modal.hide()),this.modal=new n.Modal(this.modalElement,this.modalOptions),this.modal}randomHash(t=8){return Array.from({length:t},()=>Math.floor(Math.random()*36).toString(36)).join("")}}i.allowedEmbedTypes=["embed","youtube","vimeo","instagram","url"];i.allowedMediaTypes=[...i.allowedEmbedTypes,"image","html"];i.defaultSelector='[data-toggle="lightbox"]';i.initialize=function(r){r.preventDefault(),new i(this).show()};document.querySelectorAll(i.defaultSelector).forEach(r=>r.addEventListener("click",i.initialize));typeof window!="undefined"&&window.bootstrap&&(window.bootstrap.Lightbox=i);var C=i;document.querySelectorAll('[data-toggle="lightbox"]').forEach(r=>r.addEventListener("click",C.initialize));const M=document.querySelector("#year");M.innerHTML=new Date().getFullYear();const O=()=>{document.querySelector("[data-video]").addEventListener("click",function(){let t=document.querySelector(this.dataset.bsTarget),e=this.getAttribute("data-video"),s=e+"?modestbranding=1&rel=0&controls=0&showinfo=0&html5=1&autoplay=1",o=t.querySelector("iframe");o.setAttribute("src",s),t.querySelector("button.btn-close").addEventListener("click",()=>{o.setAttribute("src",e)})})};O();const L=document.querySelector("#myCarousel");new bootstrap.Carousel(L,{interval:7e3});
